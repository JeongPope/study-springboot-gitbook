# #3 Spring Test

테스트를 작성할 때, 여러 객체들이 의존성을 갖는 경우 테스트 하기 까다로운 경우가 있다. 예를들어 테스트 대상이 아닌 의존 대상의 결함으로 테스트가 실패하는 경우가 발생할 수 있다. 의존 대상으로 인해 테스트가 실패하는 것을 막기 위해 의존 대상 대신 **실제 동작하는 것 처럼 보이는 별개의 객체**를 만드는 것을 고려할 수 있을 것 이다. 이 방식을 **Solitary Test** 라고 하며, 이때 만드는 별개의 객체를 **테스트 더블 (Test Double)** 이라고 한다.



@MockBean

* 기존에 사용되던 스프링 Bean이 아닌 MockBean을 주입한다.
* 기본적으로 Bean의 실제 구현이 아닌 모든 메서드를 Mocking한다.
* 상태가 없거나, 전체 빈을 대상으로할때 유용하다.



@SpyBean

* 실제 객체를 생성하고, 필요한 경우에만 특정 메서드를 Mocking한다.
* Mocking하지 않은 메서드를 호출하는 경우, 실제 구현된 동작을 한다.
* 상태를 가진 빈에 유용하며, 일부만을 대상으로할때 유용하다.



@MockMvc

개발한 웹 프로그램을 실제 서버에 배포하지 않고도 테스트를 위한 요청을 제공하는 수단으로, REST API의 요청을 만들어 보낼수있다.

* 통합테스트를 실행하지 않고도 컨트롤러 동작을 확인할 수 있다.
* 컨트롤러의 엔드포인트를 호출하여 HTTP 클라이언트의 요청을 모방하고 적절한 응답을 확인하기 위해 테스트를 수행한다.
* 이러한 테스트 과정을 통해 애플리케이션의 서비스 로직이나 API 엔드포인트가 의도한 대로 동작하는지 확인하고, 버그를 발견하고 수정하는 데 유용하다



@WebMvcTest

Web Layer 관련 Bean만 컨테이너에 등록하므로 테스트 수행시간이 SpringBootTest에 비해서 짧다. 통합 테스트에서 테스트가 어려운 작은 단위 테스트들을 WebMvcTest로 진행할 수 있다. Component는 주입되지 않으므로 MockBean으로 등록해야한다.&#x20;

